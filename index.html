<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Canvas Workshop</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background: rgb(255, 255, 100); display: flex; margin: 0 auto; }
    </style>
</head>
<body>

<canvas id="myCanvas" width="480" height="480"></canvas>

<script>  
        class Character
        {   
           
            renderChar(x, dx, charSize)
            {
               
                ctx.beginPath();
                ctx.rect(x + dx, y + dy, charSize, charSize);
                ctx.fillStyle = "black";
                ctx.strokeStyle = "purple";
                ctx.stroke();
                ctx.fill();
                ctx.closePath();
                //console.log("xuy");
            }
        }


        var x = 100;
        var y = 100;
        var dx = 0;
        var dy = 0; 
        var charSize = 10;
        var rightPressed = false;
        var leftPressed = false;
        var upPressed = false;
        var downPressed = false;
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        let tank = new Character();
       
        document.addEventListener("keydown", keyDownHandler, false);
        document.addEventListener("keyup", keyUpHandler, false);
        function keyDownHandler(e)
        {   //   ArrowRight ↓↓    'D' button   ↓↓
            if(e.keyCode == 39 || e.keyCode == 68) 
            {
                rightPressed = true;
            }
            //      ArrowLeft    ↓↓  'A' button     ↓↓
            else if(e.keyCode == 37 || e.keyCode == 65) 
            {
                leftPressed = true;
            }
            //        ArrowUP     ↓↓ 'W' button       ↓↓
            else if (e.keyCode == 38 ||  e.keyCode == 87)
            {
                
                upPressed = true;
            }
            //        ArroDOWN   ↓↓  'S' button     ↓↓
            else if(e.keyCode == 40 || e.keyCode == 83)
            {
                downPressed = true;
            }
        }

        function keyUpHandler(e) 
        {   //   ArrowRight ↓↓    'D' button   ↓↓
            if(e.keyCode == 39 || e.keyCode == 68) 
            {
                rightPressed = false;
            }
            //      ArrowLeft    ↓↓  'A' button     ↓↓
            else if(e.keyCode == 37 || e.keyCode == 65) 
            {
                leftPressed = false;
            }
            //        ArrowUP     ↓↓ 'W' button       ↓↓
            else if (e.keyCode == 38 || e.keyCode == 87)
            {
                
                upPressed = false;
            }
            //        ArroDOWN   ↓↓  'S' button     ↓↓
            else if(e.keyCode == 40 || e.keyCode == 83)
            {
                downPressed = false;
            }
        }

        function draw()
            {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                if(rightPressed) 
                {
                    dx += 1;
                }
                else
                if(leftPressed) 
                {
                    console.log("xxx");
                    dx -= 1;
                }

            tank.renderChar(x,dx,charSize);     
        }   
        setInterval(draw,10);
       
</script>
</body>
</html>